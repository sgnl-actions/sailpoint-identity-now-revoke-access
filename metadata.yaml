name: sailpoint-identity-now-revoke-access
description: Request to revoke access to resources in SailPoint IdentityNow

# Input parameters for web form generation
inputs:
  identityId:
    type: text
    description: The ID of the identity requesting access
    required: true
    validation:
      min: 1
      max: 255

  itemType:
    type: text
    description: Type of access item (ACCESS_PROFILE, ROLE, or ENTITLEMENT)
    required: true
    validation:
      pattern: '^(ACCESS_PROFILE|ROLE|ENTITLEMENT)$'

  itemId:
    type: text
    description: The ID of the access item to grant
    required: true
    validation:
      min: 1
      max: 255

  itemComment:
    type: text
    description: Comment for the access revocation request (required for revoke)
    required: true
    validation:
      max: 1000

  address:
    type: text
    description: SailPoint IdentityNow base URL (e.g., https://example.identitynow.com)
    required: false
    validation:
      min: 1
      max: 255

  itemRemoveDate:
    type: text
    description: ISO 8601 date when access should be removed
    required: false
    validation:
      max: 100

# Expected output structure
outputs:
  requestId:
    type: text
    description: The ID of the access request created

  identityId:
    type: text
    description: The identity ID for which access was requested

  itemType:
    type: text
    description: The type of access item requested

  itemId:
    type: text
    description: The ID of the access item requested

  status:
    type: text
    description: The status of the access request

  requestedAt:
    type: datetime
    description: When the access request was created (ISO 8601)